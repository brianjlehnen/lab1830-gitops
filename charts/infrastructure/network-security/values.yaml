# Network Security Configuration
# Global network settings
global:
  nfsServer: "192.168.4.159"
  lokiEndpoint: "192.168.4.250"
  lokiPort: 31000
  clusterCIDR: "192.168.4.0/22"

# Network policies per namespace
networkPolicies:
  vault:
    namespace: vault
    enabled: true
    policies:
      - name: vault-security-policy
        podSelector: {}
        ingress:
          - from:
            - namespaceSelector:
                matchLabels:
                  name: ingress-nginx
            ports:
            - protocol: TCP
              port: 8200
        egress:
          - to: []
            ports:
            - protocol: UDP
              port: 53
            - protocol: TCP
              port: 53
          - to:
            - ipBlock:
                cidr: "192.168.4.159/32"
            ports:
            - protocol: TCP
              port: 2049

  monitoring:
    namespace: monitoring-production
    enabled: true
    policies:
      - name: monitoring-security-policy
        podSelector: {}
        ingress:
          - from:
            - namespaceSelector:
                matchLabels:
                  name: ingress-nginx
            ports:
            - protocol: TCP
              port: 3000
        egress:
          - to: []
            ports:
            - protocol: UDP
              port: 53
            - protocol: TCP
              port: 53
          - to:
            - ipBlock:
                cidr: "192.168.4.159/32"
            ports:
            - protocol: TCP
              port: 2049
          - to:
            - podSelector:
                matchLabels:
                  app.kubernetes.io/name: prometheus
            ports:
            - protocol: TCP
              port: 9090
          - to: []
            ports:
            - protocol: TCP
              port: 31000

  applications:
    namespace: applications
    enabled: true
    policies:
      - name: default-deny-all
        podSelector: {}
        policyTypes:
        - Ingress
        - Egress