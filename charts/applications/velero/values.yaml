# charts/applications/velero/values.yaml
velero:
  initContainers:
    - name: velero-plugin-for-aws
      image: velero/velero-plugin-for-aws:v1.9.0
      imagePullPolicy: IfNotPresent
      volumeMounts:
        - mountPath: /target
          name: plugins
      
  configuration:
    backupStorageLocation:
      - name: default
        provider: aws
        bucket: velero-backups
        config:
          region: homelab
          s3ForcePathStyle: "true"
          s3Url: http://minio.velero.svc.cluster.local:9000  # Point to MinIO
    
    volumeSnapshotLocation: []
    
  snapshotsEnabled: false
  nodeAgent:
    enabled: true
  deployNodeAgent: true
  
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

  # Real MinIO credentials
  credentials:
    secretContents:
      cloud: |
        [default]
        aws_access_key_id = minioadmin
        aws_secret_access_key = minioadmin