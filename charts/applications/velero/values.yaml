# charts/applications/velero/values.yaml - Simplified working version
velero:
  # Minimal init containers
  initContainers:
    - name: velero-plugin-for-aws
      image: velero/velero-plugin-for-aws:v1.9.0
      
  configuration:
    # Simple backup storage location without MinIO for now
    backupStorageLocation:
      - name: default
        provider: aws
        bucket: velero-backups
        config:
          region: homelab
          s3ForcePathStyle: "true"
    
    # Disable volume snapshots
    volumeSnapshotLocation: []
    
  # Disable volume snapshots entirely
  snapshotsEnabled: false
  
  # Enable node agent for File System Backup
  nodeAgent:
    enabled: true
    
  deployNodeAgent: true
  
  # Resources
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

  # Simplified credentials (remove MinIO dependency for now)
  credentials:
    secretContents:
      cloud: |
        [default]
        aws_access_key_id = dummy
        aws_secret_access_key = dummy