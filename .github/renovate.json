{
  "extends": ["config:base"],
  "baseBranches": ["staging"],
  "schedule": ["before 6am on monday"],
  "timezone": "America/Chicago",
  "automerge": false,
  "platformAutomerge": false,
  "kubernetes": {
    "fileMatch": ["apps/.+\\.yaml$", "infrastructure/.+\\.yaml$", "cluster/.+\\.yaml$"]
  },
  "helm-values": {
    "fileMatch": ["values.*\\.yaml$"]
  },
  "packageRules": [
    {
      "description": "Critical infrastructure - monthly updates only",
      "matchPackageNames": ["cert-manager", "metallb", "nginx-ingress", "k3s"],
      "schedule": ["before 6am on first monday of month"],
      "labels": ["infrastructure", "monthly", "high-risk"]
    }
  ],
  "prTitle": "chore(staging): update {{depName}} to {{newVersion}}",
  "commitMessagePrefix": "chore(staging): ",
  "commitBody": "- Testing in staging environment\n- Manual promotion to production required\n- Infrastructure managed by GitOps workflow",
  "labels": ["dependencies", "staging", "auto-update"],
  "assignees": ["brianjlehnen"],
  "reviewers": ["brianjlehnen"]
}
